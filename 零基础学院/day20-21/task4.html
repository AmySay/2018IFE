<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡出</button>


<!--分别使用 setTimeout 和 setInterval 实现以下功能：-->
<!--点击按钮时，开始改变 fade-obj 的透明度，开始一个淡出（逐渐消失）动画，直到透明度为0-->
<!--在动画过程中，按钮的状态变为不可点击-->
<!--在动画结束后，按钮状态恢复，且文字变成“淡入”-->
<!--在 按钮显示 淡入 的状态时，点击按钮，开始一个“淡入”（逐渐出现）的动画，和上面类似按钮不可点，直到透明度完全不透明-->
<!--淡入动画结束后，按钮文字变为“淡出”-->
<script>
    window.onload = function () {
        let box = document.getElementById("fade-obj"),
            btn = document.getElementById("fade-btn");
        btn.onclick = function () {

            if(btn.innerText==="淡出"){
                fadeout();
            }else{
                fadein();
            }
        };
        function fadeout() {
             box.style.opacity = 1;
            let  clear = setInterval(function () {
                box.style.opacity = Number(box.style.opacity) - 0.01;
                btn.disabled = true;
                if(Number(box.style.opacity) === 0){
                    clearInterval(clear);
                    btn.disabled = false;
                    btn.innerText="淡入";
                }
            }, 50);
        }

        function fadein() {
             box.style.opacity = 0;
                console.log(box.style.opacity);
             let  clear = setInterval(function () {
                 box.style.opacity = Number(box.style.opacity) + 0.01;
                btn.disabled = true;
                if(Number(box.style.opacity) === 1){
                    clearInterval(clear);
                    btn.disabled = false;
                    btn.innerText="淡出";
                }
            }, 50);
        }


    }


</script>


</body>
</html>